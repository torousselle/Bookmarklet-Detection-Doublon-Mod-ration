javascript:(function(){function c(m){let d=document.createElement('div');d.style.position='fixed';d.style.top='20px';d.style.right='20px';d.style.backgroundColor='white';d.style.border='2px solid #444';d.style.padding='10px';d.style.zIndex=9999;d.style.maxHeight='70%';d.style.overflowY='auto';d.style.width='400px';d.innerHTML=m;let%20b=document.createElement('button');b.textContent='Fermer';b.onclick=()=>d.remove();d.appendChild(b);document.body.appendChild(d);}let%20p=window.location.pathname.split("/");let%20idx=p.indexOf("docid");let%20docid=(idx!==-1&&p[idx+1])?p[idx+1]:null;if(!docid){c("<b>Impossible%20de%20lire%20docid%20dans%20l%E2%80%99URL.</b>");return;}let%20url=`https://api.archives-ouvertes.fr/crac/hal/?q=docid:${docid}&fl=halId_s,title_s,doiId_s&wt=json`;fetch(url).then(r=>r.json()).then(data=>{if(!data.response||!data.response.docs||!data.response.docs.length){c("<b>Aucune%20notice%20HAL%20trouv%C3%A9e.</b>");return;}let%20doc=data.response.docs[0];let%20h_base=doc.halId_s;let%20t=Array.isArray(doc.title_s)?doc.title_s[0]:doc.title_s||"";let%20doi=Array.isArray(doc.doiId_s)?doc.doiId_s[0]:doc.doiId_s||"";let%20mots=t.replace(/[()\":!?,;'-]/g,"").split(/\s+/).slice(0,12).join("%20");let%20q=[];if(doi)q.push(`doiId_s:"${doi}"`);if(mots)q.push(`title_t:"${mots}"`);q=q.join("%20OR%20");let%20s=`https://api.archives-ouvertes.fr/search/?q=${encodeURIComponent(q)}&fl=halId_s,title_s,doiId_s&wt=json&rows=50`;fetch(s).then(r=>r.json()).then(r=>{if(!r.response||!r.response.docs){c("<b>Erreur%20recherche%20doublons.</b>");return;}let%20res=r.response.docs.filter(x=>{let%20xid=(x.halId_s||"").replace(/v\\d+$/,"");let%20xdoi=Array.isArray(x.doiId_s)?x.doiId_s[0]:x.doiId_s||"";return%20xid!==h_base&&(!xdoi||xdoi===doi);});if(res.length===0){c("<b>Pas%20de%20doublon%20d%C3%A9tect%C3%A9.</b>");return;}let%20content="<b>Doublons%20potentiels%20:</b><ul>";res.forEach(x=>{let%20id=x.halId_s;let%20t=Array.isArray(x.title_s)?x.title_s[0]:x.title_s||"";let%20d=Array.isArray(x.doiId_s)?x.doiId_s[0]:x.doiId_s||"";content+=`<li><a%20href="https://hal.science/${id}"%20target="_blank">${id}</a>%20|%20${t}%20|%20DOI:%20${d}</li>`});content+="</ul>";c(content);});}).catch(e=>c("Erreur%20API%20:%20"+e));})();